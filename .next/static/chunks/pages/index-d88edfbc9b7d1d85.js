(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(67485)}])},67485:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(85893),i=n(67294),c=n(33299),a=n(11163),r=n(9008),o=n.n(r);function l(){let{data:e,status:t}=(0,c.useSession)(),n=(0,a.useRouter)(),{callbackUrl:r}=n.query;return((0,i.useEffect)(()=>{"authenticated"===t?r&&"string"==typeof r&&!r.startsWith("http")?(console.log("Root: Redirecting authenticated user to callback URL:",r),n.push(r)):(console.log("Root: Redirecting authenticated user to dashboard"),n.push("/dashboard")):"unauthenticated"===t&&(r?(console.log("Root: Redirecting unauthenticated user to login with callback:",r),n.push("/auth/login?callbackUrl=".concat(encodeURIComponent("string"==typeof r?r:r[0])))):(console.log("Root: Redirecting unauthenticated user to login"),n.push("/auth/login")))},[t,n,r]),"loading"===t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"Loading - P-Chart System"})}),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"P-Chart System"})}),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"P-Chart System"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Redirecting..."})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);