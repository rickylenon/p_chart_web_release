(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[677],{53219:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(84297).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},73696:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(84297).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},63420:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/standard-costs/add",function(){return r(71572)}])},45847:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(85893),n=r(89630),a=r(5716);function i(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(n.Z,{}),(0,s.jsx)("main",{className:"flex-1",children:(0,s.jsx)("div",{className:"container",children:t})}),(0,s.jsx)(a.Z,{})]})}},33566:function(e,t,r){"use strict";var s=r(85893);r(67294);var n=r(87764),a=r(35037);t.Z=e=>{let{title:t,description:r,searchPlaceholder:i="Search...",searchValue:l="",onSearchChange:c,actions:d}=e;return console.log("PageHeader: Rendering for ".concat(t)),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-purple-700",children:t}),r&&(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:r})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[c&&(0,s.jsxs)("div",{className:"relative w-96",children:[(0,s.jsx)(n.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),(0,s.jsx)(a.I,{type:"search",placeholder:i,className:"pl-8",value:l,onChange:c})]}),d]})]})})}},13749:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var s=r(85893),n=r(67294),a=r(44531);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border dark:border-gray-700 bg-card text-card-foreground shadow",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},2297:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var s=r(85893),n=r(67294),a=r(49102),i=r(12003),l=r(44531);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,l.cn)(c(),r),...n})});d.displayName=a.f.displayName},65765:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(85893),n=r(67294),a=r(44531);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});i.displayName="Textarea"},71572:function(e,t,r){"use strict";r.r(t);var s=r(85893),n=r(67294),a=r(11163),i=r(33299),l=r(45847),c=r(9008),d=r.n(c),o=r(33566),u=r(87249),m=r(35037),f=r(2297),x=r(65765),p=r(13749),h=r(98225),j=r(86501),N=r(53219),g=r(73696);t.default=(0,h.c2)(function(){let e=(0,a.useRouter)(),{data:t}=(0,i.useSession)(),[r,c]=(0,n.useState)({itemName:"",description:"",costPerUnit:"",currency:"USD"}),[h,v]=(0,n.useState)({}),[b,y]=(0,n.useState)(!1),w=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r})),h[t]&&v(e=>({...e,[t]:""}))},C=()=>{let e={};if(r.itemName.trim()||(e.itemName="Item name is required"),r.costPerUnit.trim()){let t=parseFloat(r.costPerUnit);(isNaN(t)||t<0)&&(e.costPerUnit="Cost per unit must be a valid positive number")}else e.costPerUnit="Cost per unit is required";return v(e),0===Object.keys(e).length},P=async t=>{if(t.preventDefault(),C()){y(!0);try{let t=await fetch("/api/standard-costs",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({itemName:r.itemName.trim(),description:r.description.trim()||null,costPerUnit:parseFloat(r.costPerUnit),currency:r.currency})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create standard cost")}let s=await t.json();console.log("Created standard cost:",s),j.Am.success("Standard cost created successfully"),e.push("/standard-costs")}catch(e){console.error("Error creating standard cost:",e),j.Am.error(e instanceof Error?e.message:"Failed to create standard cost")}finally{y(!1)}}},U=()=>{e.push("/standard-costs")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{children:(0,s.jsx)("title",{children:"Create Standard Cost - P-Chart System"})}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsx)(o.Z,{title:"Create Standard Cost",description:"Add a new item standard cost for defect cost calculations",actions:(0,s.jsxs)(u.z,{variant:"outline",onClick:U,className:"flex items-center",children:[(0,s.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Back to List"]})}),(0,s.jsxs)(p.Zb,{children:[(0,s.jsx)(p.Ol,{children:(0,s.jsx)(p.ll,{children:"Standard Cost Information"})}),(0,s.jsx)(p.aY,{children:(0,s.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(f._,{htmlFor:"itemName",children:["Item Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(m.I,{id:"itemName",name:"itemName",type:"text",value:r.itemName,onChange:w,placeholder:"Enter item name",className:h.itemName?"border-red-500":""}),h.itemName&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.itemName})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(f._,{htmlFor:"costPerUnit",children:["Cost Per Unit ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(m.I,{id:"costPerUnit",name:"costPerUnit",type:"number",step:"0.0001",min:"0",value:r.costPerUnit,onChange:w,placeholder:"0.0000",className:h.costPerUnit?"border-red-500":""}),h.costPerUnit&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.costPerUnit})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(f._,{htmlFor:"currency",children:"Currency"}),(0,s.jsxs)("select",{id:"currency",name:"currency",value:r.currency,onChange:w,className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"USD",children:"USD"}),(0,s.jsx)("option",{value:"EUR",children:"EUR"}),(0,s.jsx)("option",{value:"GBP",children:"GBP"}),(0,s.jsx)("option",{value:"JPY",children:"JPY"})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f._,{htmlFor:"description",children:"Description"}),(0,s.jsx)(x.g,{id:"description",name:"description",value:r.description,onChange:w,placeholder:"Enter optional description",rows:3})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,s.jsx)(u.z,{type:"button",variant:"outline",onClick:U,disabled:b,children:"Cancel"}),(0,s.jsx)(u.z,{type:"submit",disabled:b,className:"bg-purple-600 hover:bg-purple-700",children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Create Standard Cost"]})})]})]})})]})]})})]})})},49102:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var s=r(67294),n=r(75320),a=r(85893),i=s.forwardRef((e,t)=>(0,a.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[192,664,847,164,888,774,179],function(){return e(e.s=63420)}),_N_E=e.O()}]);