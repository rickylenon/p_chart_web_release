"use strict";exports.id=9266,exports.ids=[9266],exports.modules={5716:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>f});var r=s(20997),i=s(16689),o=s(41664),n=s.n(o),l=s(1757),d=s(56989),c=s(45077),m=s(71312),x=s(41649),p=e([m]);m=(p.then?(await p)():p)[0];let u=s(4147),h=()=>{let{data:e}=(0,x.useSession)(),[t,s]=(0,i.useState)(0),[a,r]=(0,i.useState)(!1),[o,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n(!0)},[]),(0,i.useEffect)(()=>{if(!o||!e?.user||(process.env.NEXT_PUBLIC_DISABLE_IDLE_TIMEOUT_DEV,0)){r(!1);return}r(!0);let t=e.user?.role?.toLowerCase()||"user",a=18e5;switch(t){case"admin":a=6e4*parseInt(process.env.NEXT_PUBLIC_IDLE_ADMIN_TIMEOUT_MINUTES||"30");break;case"encoder":a=6e4*parseInt(process.env.NEXT_PUBLIC_IDLE_ENCODER_TIMEOUT_MINUTES||"15");break;case"viewer":a=6e4*parseInt(process.env.NEXT_PUBLIC_IDLE_VIEWER_TIMEOUT_MINUTES||"5");break;default:a=6e4*parseInt(process.env.NEXT_PUBLIC_IDLE_TIMEOUT_MINUTES||"30")}let i=()=>{try{let t=localStorage.getItem("p_chart_last_activity");if(t){let r=null;try{let i=JSON.parse(t);if(i.userId&&i.timestamp){let t=e.user?.id;if(i.userId===t)r=new Date(i.timestamp),console.log("[Footer] Using activity for current user:",{userId:i.userId,timestamp:r.toISOString()});else{console.log("[Footer] Activity belongs to different user, resetting"),localStorage.removeItem("p_chart_last_activity"),s(a);return}}}catch(s){let e=new Date(t);isNaN(e.getTime())||(console.log("[Footer] Converting old format activity timestamp"),r=e)}if(r&&!isNaN(r.getTime())){let e=Date.now()-r.getTime(),t=Math.max(0,a-e);s(t)}else console.log("[Footer] Invalid activity timestamp, resetting"),s(a)}else console.log("[Footer] No last activity found, initializing"),s(a)}catch(e){console.log("[Footer] Error calculating idle time:",e),s(a)}};i();let n=setInterval(i,1e4);return()=>clearInterval(n)},[e,o]),{timeRemaining:t,isEnabled:a&&o,formatTime:e=>e<=0?"0:00":`${Math.floor(e/6e4)}:${Math.floor(e%6e4/1e3).toString().padStart(2,"0")}`}},f=()=>{let e=new Date().getFullYear(),[t,s]=(0,i.useState)(!1),{timeRemaining:a,isEnabled:o,formatTime:x}=h();return(0,i.useEffect)(()=>{s(!0)},[]),console.log("Footer: Rendering with current year:",e),r.jsx("footer",{className:"bg-background border-t border-border py-4 mt-8",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex flex-col mb-4 md:mb-0",children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{className:"text-foreground",children:"P-Chart System"})," - Production Monitoring Web Application"]}),(0,r.jsxs)("p",{children:["Developed by"," ",r.jsx("a",{href:"https://www.lechamp.com.sg/",target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:text-primary",children:"LE CHAMP (South East Asia) Pte Ltd"})," ","| For"," ",r.jsx("a",{href:"https://www.jae.com/en/",target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:text-primary",children:"JAE Philippines"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(n(),{href:"/user-manual",className:"flex items-center gap-1 hover:text-primary font-medium",children:[r.jsx(l.Z,{className:"h-4 w-4"}),"User Manual"]}),(0,r.jsxs)(n(),{href:"/about",className:"flex items-center gap-1 hover:text-primary font-medium",children:[r.jsx(d.Z,{className:"h-4 w-4"}),"About"]}),r.jsx("div",{className:"flex items-center ml-1",children:r.jsx(m.T,{})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{children:["\xa9 ",e," All rights reserved."]}),o&&t&&a>0&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground/60 flex items-center gap-1",children:[r.jsx(c.Z,{className:"h-3 w-3"}),r.jsx("span",{title:"Session timeout in",children:x(a)})]}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground/70",children:["Version: v",u.version]})]})]})]})})})};a()}catch(e){a(e)}})},62734:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(20997),r=s(41664),i=s.n(r);function o({title:e,href:t,isActive:s}){return a.jsx(i(),{href:t,className:`text-sm font-medium transition-colors hover:text-primary ${s?"text-primary":"text-muted-foreground"}`,children:e})}},21382:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>v});var r=s(20997),i=s(41664),o=s.n(i),n=s(11163),l=s(41649),d=s(16689),c=s(76789),m=s(41352),x=s(77232),p=s(32047),u=s(62734),h=s(87249),f=s(71312),g=s(43671),j=s(59165),N=s(98225),y=s(83354),b=e([p,h,f,g,j,y]);[p,h,f,g,j,y]=b.then?(await b)():b;let v=()=>{let e=(0,n.useRouter)(),{data:t}=(0,l.useSession)(),[s,a]=(0,d.useState)(!1),[i,b]=(0,d.useState)(!1),{unreadCount:v}=(0,j.lm)();(0,d.useEffect)(()=>{b(!0)},[]),(0,d.useEffect)(()=>{a(!1)},[e.pathname]),(0,d.useEffect)(()=>{let e=()=>{window.innerWidth>=768&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let w=(()=>{if(t?.user?.name)return{name:t.user.name,email:t.user.email||null,role:t.user?.role||"user"};if(i){let e=N.UserSession.getSession();if(e)return{name:e.name||null,email:e.email||null,role:e.role||"user"}}return{name:null,email:null,role:"user"}})(),S="admin"===w.role.toLowerCase(),I="encoder"===w.role.toLowerCase(),C=v.byType["defect-edit"]||0,E=v.byType.system||0,k=v.byType.message||0,T=v.total||0,_=t=>"/notifications"===t?e.pathname===t:e.pathname===t||e.pathname.startsWith(`${t}/`),Z=[{title:"Dashboard",href:"/dashboard"},{title:"Production Orders",href:"/production-orders"}],R=[{title:"Edit Requests",href:"/operation-defects-edit-requests"}];return r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-sm",children:(0,r.jsxs)("div",{className:"container px-4 sm:px-6 lg:px-8 mx-auto",children:[(0,r.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(o(),{href:"/dashboard",className:"mr-4 flex items-center space-x-2",children:r.jsx("span",{className:"font-bold rounded px-4 py-1 border border-primary dark:border-white text-primary dark:text-white bg-background",children:"P-Chart"})}),(0,r.jsxs)("nav",{className:"hidden lg:flex items-center space-x-3 xl:space-x-6",children:[Z.map(e=>r.jsx(u.Z,{title:e.title,href:e.href,isActive:_(e.href)},e.href)),i&&(S||I)&&R.map(e=>r.jsx(u.Z,{title:e.title,href:e.href,isActive:_(e.href)},e.href))]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3 md:space-x-4",children:[r.jsx("div",{className:"relative w-full max-w-[260px] md:max-w-xs lg:max-w-sm hidden md:block",children:r.jsx(g.P,{})}),(0,r.jsxs)(y.zs,{openDelay:300,closeDelay:100,children:[r.jsx(y.Yi,{asChild:!0,children:r.jsx(o(),{href:"/notifications",className:"relative",children:(0,r.jsxs)(h.z,{variant:"ghost",size:"icon",className:`rounded-full h-9 w-9 ${_("/notifications")?"bg-primary/10 text-primary":""}`,children:[r.jsx(c.Z,{className:"h-5 w-5"}),T>0&&r.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:T>99?"99+":T})]})})}),r.jsx(y.bZ,{className:"w-64 p-2",align:"end",children:(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold",children:"Notifications"}),(0,r.jsxs)("div",{className:"space-y-1",children:[C>0&&(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs py-1 px-2 rounded hover:bg-muted",children:[r.jsx("span",{children:"Defect Edit Requests"}),r.jsx("span",{className:"bg-red-100 text-red-800 rounded-full px-2 py-0.5",children:C})]}),E>0&&(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs py-1 px-2 rounded hover:bg-muted",children:[r.jsx("span",{children:"System Notifications"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full px-2 py-0.5",children:E})]}),k>0&&(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs py-1 px-2 rounded hover:bg-muted",children:[r.jsx("span",{children:"Messages"}),r.jsx("span",{className:"bg-green-100 text-green-800 rounded-full px-2 py-0.5",children:k})]}),0===T&&r.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:"No new notifications"})]}),r.jsx("hr",{className:"my-1"}),r.jsx(o(),{href:"/notifications",className:"text-xs text-primary hover:underline block text-center",children:"View all notifications"})]})})]}),r.jsx(f.T,{}),r.jsx(p.Z,{user:w,notificationCount:T}),r.jsx(h.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>a(!s),"aria-label":s?"Close menu":"Open menu",children:s?r.jsx(m.Z,{className:"h-5 w-5"}):r.jsx(x.Z,{className:"h-5 w-5"})})]})]}),s&&r.jsx("div",{className:"lg:hidden py-4 border-t",children:(0,r.jsxs)("nav",{className:"flex flex-col space-y-4",children:[Z.map(e=>r.jsx(o(),{href:e.href,className:`px-4 py-2 rounded-md transition-colors text-sm font-medium ${_(e.href)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-primary/5"}`,children:e.title},e.href)),i&&(S||I)&&R.map(e=>r.jsx(o(),{href:e.href,className:`px-4 py-2 rounded-md transition-colors text-sm font-medium ${_(e.href)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-primary/5"}`,children:e.title},e.href)),(0,r.jsxs)(o(),{href:"/notifications",className:`px-4 py-2 rounded-md transition-colors text-sm font-medium flex items-center ${_("/notifications")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-primary/5"}`,children:[r.jsx(c.Z,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:"Notifications"}),T>0&&r.jsx("span",{className:"ml-auto flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:T>99?"99+":T})]}),r.jsx("div",{className:"mt-4 px-4 w-full",children:r.jsx(g.P,{})})]})})]})})};a()}catch(e){a(e)}})},32047:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>w});var r=s(20997),i=s(41649),o=s(41664),n=s.n(o),l=s(16689),d=s(87776),c=s(87249),m=s(29229),x=s(39455),p=s(94933),u=s(76789),h=s(50868),f=s(71408),g=s(66942),j=s(28142),N=s(1757),y=s(56989),b=s(78051),v=e([d,c,m]);function w({user:e,notificationCount:t=0}){var a;let[o,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{v(!0)},[]);let w=e.name?e.name.split(" ").map(e=>e[0]).join("").toUpperCase():"U",S=(a=e.name)?a.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"User",I="admin"===e.role.toLowerCase(),C="encoder"===e.role.toLowerCase();return(0,r.jsxs)(d.h_,{children:[r.jsx(d.$F,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"ghost",className:"relative h-9 rounded-full flex items-center gap-2 px-2",children:[r.jsx("span",{className:"text-sm font-medium hidden md:inline-flex",children:S}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsx(m.qE,{className:"h-7 w-7 transition-all border-2 border-primary/10 bg-primary/5",children:r.jsx(m.Q5,{className:"bg-gradient-to-br from-primary/10 to-primary/5 text-primary font-medium text-xs",children:w})})})]})}),(0,r.jsxs)(d.AW,{className:"w-64",align:"end",forceMount:!0,children:[r.jsx(d.Ju,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-2",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:S}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs text-primary/80",children:[r.jsx(x.Z,{className:"h-3 w-3"}),r.jsx("span",{className:"capitalize",children:e.role})]})]})}),r.jsx(d.VD,{}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/profile",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(p.Z,{className:"h-4 w-4"}),"Profile"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/notifications",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(u.Z,{className:"h-4 w-4"}),"Notifications",o&&(I||C)&&t>0&&r.jsx("span",{className:"ml-auto flex h-5 w-5 items-center justify-center rounded-full bg-red-100 text-xs font-medium text-red-600",children:t})]})}),o&&(I||C)&&r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/operation-defects-edit-requests",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(h.Z,{className:"h-4 w-4"}),"Edit Requests"]})}),o&&I&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.VD,{}),r.jsx(d.Ju,{className:"text-xs font-normal text-muted-foreground",children:"Admin Actions"}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/settings",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4"}),"Settings"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/master-defects",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(x.Z,{className:"h-4 w-4"}),"Master Defects"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/standard-costs",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(g.Z,{className:"h-4 w-4"}),"Standard Costs"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/admin/users",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(p.Z,{className:"h-4 w-4"}),"User Management"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/admin/system-update",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(j.Z,{className:"h-4 w-4"}),"System Updates"]})})]}),r.jsx(d.VD,{}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/user-manual",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(N.Z,{className:"h-4 w-4"}),"User Manual"]})}),r.jsx(d.Xi,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/about",className:"cursor-pointer flex items-center gap-2",children:[r.jsx(y.Z,{className:"h-4 w-4"}),"About"]})}),(0,r.jsxs)(d.Xi,{className:"cursor-pointer flex items-center gap-2 text-destructive focus:text-destructive",onSelect:async()=>{console.log("=== LOGOUT PROCESS STARTING ===");let{pathname:e,search:t}=window.location,a=`${e}${t}`;console.log("Current path for redirect:",a);try{console.log("Step 1: Clearing local storage...");let{UserSession:e}=await Promise.resolve().then(s.bind(s,98225));e.clearSession(),console.log("Step 2: Clearing additional storage..."),localStorage.removeItem("p_chart_last_activity"),localStorage.removeItem("productionOrdersUrl"),localStorage.removeItem("lastUpdateType"),console.log("Step 3: Clearing cookies..."),["next-auth.session-token","next-auth.callback-url","next-auth.csrf-token","__Secure-next-auth.session-token","__Host-next-auth.csrf-token","p_chart_auth_user"].forEach(e=>{document.cookie=`${e}=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=Lax`,document.cookie=`${e}=; path=/; domain=${window.location.hostname}; expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=Lax`,document.cookie=`${e}=; path=/; domain=.${window.location.hostname}; expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=Lax`}),console.log("Step 4: Signing out with NextAuth..."),await (0,i.signOut)({redirect:!1}),console.log("Step 5: Final cleanup and redirect..."),setTimeout(()=>{window.location.href=`/auth/login?callbackUrl=${encodeURIComponent(a)}`},100)}catch(e){console.error("Error during logout:",e),window.location.href=`/auth/login?callbackUrl=${encodeURIComponent(a)}`}console.log("=== LOGOUT PROCESS COMPLETED ===")},children:[r.jsx(b.Z,{className:"h-4 w-4"}),"Log out"]})]})]})}[d,c,m]=v.then?(await v)():v,a()}catch(e){a(e)}})},43671:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{P:()=>p});var r=s(20997),i=s(16689),o=s(11163),n=s(98225),l=s(65050),d=s(87764),c=s(35037),m=s(87249),x=e([c,m]);function p(){let[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),x=(0,o.useRouter)(),{toast:p}=(0,l.pm)(),u=async t=>{if(t.preventDefault(),e.trim()){a(!0),console.log("Searching for PO:",e);try{let t=await fetch(`/api/production-orders/exists/${e}`,{method:"HEAD",headers:n.UserSession.getAuthHeaders()});console.log("PO search response status:",t.status),404===t.status?(console.log("PO not found, redirecting to create page"),p({title:"PO Not Found",description:`Creating new production order: ${e}`,duration:3e3}),x.push(`/production-orders/create?initialPoNumber=${e}`)):t.ok?(console.log("PO found, redirecting to details page"),x.push(`/production-orders/${e}`)):(console.error("Error searching for PO:",t.status),p({title:"Error",description:"Failed to search for production order",variant:"destructive"}))}catch(e){console.error("Error during PO search:",e),p({title:"Error",description:"An error occurred while searching",variant:"destructive"})}finally{a(!1)}}};return r.jsx("form",{onSubmit:u,className:"w-full",children:(0,r.jsxs)("div",{className:"relative w-full",children:[r.jsx(c.I,{type:"text",placeholder:"Search PO Number",value:e,onChange:e=>t(e.target.value),className:"w-full pr-14 border-primary/30 focus-visible:ring-primary/20 rounded-[5px] text-gray-600 placeholder:text-gray-500 placeholder:font-normal"}),r.jsx("div",{className:"absolute inset-y-0 right-1 flex items-center",children:r.jsx(m.z,{type:"submit",size:"icon",variant:"ghost",disabled:s,className:"h-8 w-8 rounded-full hover:bg-transparent",children:s?r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):r.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})})})]})})}[c,m]=x.then?(await x)():x,a()}catch(e){a(e)}})},29229:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Q5:()=>c,qE:()=>d});var r=s(20997),i=s(16689),o=s(25458),n=s(32676),l=e([o,n]);[o,n]=l.then?(await l)():l;let d=i.forwardRef(({className:e,...t},s)=>r.jsx(o.Root,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));d.displayName=o.Root.displayName,i.forwardRef(({className:e,...t},s)=>r.jsx(o.Image,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",e),...t})).displayName=o.Image.displayName;let c=i.forwardRef(({className:e,...t},s)=>r.jsx(o.Fallback,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));c.displayName=o.Fallback.displayName,a()}catch(e){a(e)}})},87776:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{$F:()=>p,AW:()=>u,Ju:()=>f,VD:()=>g,Xi:()=>h,h_:()=>x});var r=s(20997),i=s(16689),o=s(31481),n=s(64998),l=s(13742),d=s(50316),c=s(32676),m=e([o,c]);[o,c]=m.then?(await m)():m;let x=o.Root,p=o.Trigger;o.Group,o.Portal,o.Sub,o.RadioGroup,i.forwardRef(({className:e,inset:t,children:s,...a},i)=>(0,r.jsxs)(o.SubTrigger,{ref:i,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[s,r.jsx(n.Z,{className:"ml-auto"})]})).displayName=o.SubTrigger.displayName,i.forwardRef(({className:e,...t},s)=>r.jsx(o.SubContent,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=o.SubContent.displayName;let u=i.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(o.Portal,{children:r.jsx(o.Content,{ref:a,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));u.displayName=o.Content.displayName;let h=i.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(o.Item,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));h.displayName=o.Item.displayName,i.forwardRef(({className:e,children:t,checked:s,...a},i)=>(0,r.jsxs)(o.CheckboxItem,{ref:i,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(o.ItemIndicator,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),t]})).displayName=o.CheckboxItem.displayName,i.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(o.RadioItem,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(o.ItemIndicator,{children:r.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=o.RadioItem.displayName;let f=i.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(o.Label,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));f.displayName=o.Label.displayName;let g=i.forwardRef(({className:e,...t},s)=>r.jsx(o.Separator,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));g.displayName=o.Separator.displayName,a()}catch(e){a(e)}})},83354:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Yi:()=>c,bZ:()=>m,zs:()=>d});var r=s(20997),i=s(16689),o=s(2932),n=s(32676),l=e([o,n]);[o,n]=l.then?(await l)():l;let d=o.Root,c=o.Trigger,m=i.forwardRef(({className:e,align:t="center",sideOffset:s=4,...a},i)=>r.jsx(o.Content,{ref:i,align:t,sideOffset:s,className:(0,n.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));m.displayName=o.Content.displayName,a()}catch(e){a(e)}})},35037:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{I:()=>l});var r=s(20997),i=s(16689),o=s(32676),n=e([o]);o=(n.then?(await n)():n)[0];let l=i.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:disabled:bg-gray-700",e),ref:a,...s}));l.displayName="Input",a()}catch(e){a(e)}})},71312:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{T:()=>c});var r=s(20997),i=s(58532),o=s(90250),n=s(87249),l=s(70749),d=e([n]);function c(){let{theme:e,setTheme:t}=(0,l.F)();return console.log("ThemeToggle: Current theme is",e),(0,r.jsxs)(n.z,{variant:"ghost",size:"icon",className:"rounded-full h-9 w-9",onClick:()=>{console.log("ThemeToggle: Toggling theme from",e,"to","light"===e?"dark":"light"),t("light"===e?"dark":"light")},children:[r.jsx(i.Z,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),r.jsx(o.Z,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}n=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},4147:e=>{e.exports=JSON.parse('{"name":"p_chart_web","version":"2.0.5","private":true,"prisma":{"seed":"ts-node prisma/seed.ts"},"scripts":{"dev":"next dev","build":"next build","start":"node .next/standalone/server.js","start:dev":"next start","start:port":"node .next/standalone/server.js","lint":"next lint","test:session":"node scripts/test-session-cli.js","test:db":"ts-node scripts/test-db-connection.ts","test:db-simple":"node test-db.js","generate:test-data":"ts-node scripts/generate-test-data.ts","generate:test-notifications":"ts-node scripts/generate-test-notifications.ts","generate:broadcast-notifications":"ts-node scripts/generate-test-notifications.ts --all","migrate-defect-names":"ts-node scripts/migrate-defect-names.ts","sync-production-data":"node scripts/production-data-import.js","seed-standard-costs":"ts-node scripts/seed-standard-costs.ts","generate-standard-costs-sample":"ts-node scripts/generate-standard-costs-sample.ts","test":"echo \\"No tests specified\\" && exit 0"},"dependencies":{"@auth/prisma-adapter":"^1.0.14","@hookform/resolvers":"^3.3.4","@prisma/client":"^5.8.1","@radix-ui/react-accordion":"^1.2.4","@radix-ui/react-alert-dialog":"^1.1.6","@radix-ui/react-avatar":"^1.0.4","@radix-ui/react-checkbox":"^1.1.4","@radix-ui/react-dialog":"^1.0.5","@radix-ui/react-dropdown-menu":"^2.1.5","@radix-ui/react-hover-card":"^1.1.7","@radix-ui/react-icons":"^1.3.0","@radix-ui/react-label":"^2.1.1","@radix-ui/react-popover":"^1.1.6","@radix-ui/react-progress":"^1.1.7","@radix-ui/react-select":"^2.0.0","@radix-ui/react-separator":"^1.1.3","@radix-ui/react-slot":"^1.1.1","@radix-ui/react-tabs":"^1.0.4","@radix-ui/react-toast":"^1.1.5","@radix-ui/react-tooltip":"^1.1.8","@tanstack/react-table":"^8.21.2","@types/adm-zip":"^0.5.7","@types/formidable":"^3.4.5","adm-zip":"^0.5.16","axios":"^1.8.4","bcryptjs":"^2.4.3","class-variance-authority":"^0.7.1","clsx":"^2.1.1","csv-parse":"^5.6.0","date-fns":"^4.1.0","dateformat":"^5.0.3","dotenv":"^16.5.0","exceljs":"^4.4.0","formidable":"^3.5.4","googleapis":"^150.0.1","lodash":"^4.17.21","lucide-react":"^0.312.0","multer":"^1.4.5-lts.2","next":"latest","next-auth":"^4.24.5","node-windows":"^1.0.0-beta.8","react":"latest","react-dom":"latest","react-dropzone":"^14.3.8","react-error-boundary":"^5.0.0","react-hook-form":"^7.49.3","react-hot-toast":"^2.5.2","recharts":"^2.15.1","sharp":"^0.34.2","socket.io":"^4.8.1","socket.io-client":"^4.8.1","tailwind-merge":"^2.6.0","tailwindcss-animate":"^1.0.7","xlsx":"^0.18.5","zod":"^3.22.4"},"devDependencies":{"@tailwindcss/postcss":"^4.1.3","@types/axios":"^0.9.36","@types/bcryptjs":"^2.4.6","@types/dateformat":"^5.0.3","@types/exceljs":"^0.5.3","@types/lodash":"^4.17.16","@types/multer":"^1.4.12","@types/node":"^20","@types/react":"^18","@types/react-dom":"^18","@types/xlsx":"^0.0.35","autoprefixer":"latest","eslint":"^8","eslint-config-next":"14.1.0","node-fetch":"^2.7.0","postcss":"latest","prisma":"^5.22.0","tailwindcss":"3.3.5","ts-node":"^10.9.2","typescript":"latest"}}')}};