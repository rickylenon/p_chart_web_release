"use strict";(()=>{var e={};e.id=6433,e.ids=[6433],e.modules={53524:e=>{e.exports=require("@prisma/client")},98432:e=>{e.exports=require("bcryptjs")},60614:e=>{e.exports=require("next-auth/jwt")},62113:e=>{e.exports=require("next-auth/next")},47449:e=>{e.exports=require("next-auth/providers/credentials")},41649:e=>{e.exports=require("next-auth/react")},20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},93294:(e,t,r)=>{r.r(t),r.d(t,{config:()=>l,default:()=>d,routeModule:()=>c});var s={};r.r(s),r.d(s,{default:()=>u});var n=r(71802),a=r(47153),o=r(56249);async function i(e,t,r){try{console.log("API: StandardCosts CSV template auth session validated, user:",r?.user?.name);let s=r?.user?.role||"";if("admin"!==s.toLowerCase())return t.status(403).json({error:"Admin access required"});if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});return console.log("Generating CSV template..."),t.setHeader("Content-Type","text/csv"),t.setHeader("Content-Disposition",'attachment; filename="standard_costs_template.csv"'),t.status(200).send("Item Name,Description,Cost Per Unit,Currency\nHARNESS-ABC123,Wire Harness Assembly ABC123,2.50,USD\nSUB-ASSY-DEF456,Sub-Assembly DEF456 Component,3.75,USD\nCABLE-GHI789,Connector Cable GHI789,1.25,USD\nPCB-JKL012,Circuit Board JKL012,15.99,USD\nCONNECTOR-MNO345,Electrical Connector MNO345,0.85,USD")}catch(e){return console.error("Error generating CSV template:",e),t.status(500).json({error:"Failed to generate CSV template",details:e instanceof Error?e.message:"Unknown error"})}}let u=(0,r(66826).QO)(i),d=(0,o.l)(s,"default"),l=(0,o.l)(s,"config"),c=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/standard-costs/template.csv",pathname:"/api/standard-costs/template.csv",bundlePath:"",filename:""},userland:s})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[549],()=>r(93294));module.exports=s})();